name: ci-test.yml
on:
  push:
    branches:
      - "test-framework"

jobs:
  Build:
    name: Build Snapshot
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install dependencies
        run: sudo apt-get install --yes build-essential linux-headers-$(uname -r) sudo libi2c-dev gcc-arm-linux-gnueabihf  gcc-aarch64-linux-gnu libtool tree
      - name: Install JDK25
        uses: sfesenko/setup-sdkman@v1
        with:
          deps: java:25-amzn
      - name: Build entire Pi4J Project
        run: |
          source ~/.sdkman/bin/sdkman-init.sh 
          ./mvnw clean install -Pnative,cross-compile --batch-mode

